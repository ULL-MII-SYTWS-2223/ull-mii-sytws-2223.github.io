(window.webpackJsonp=window.webpackJsonp||[]).push([[168],{809:function(e,t,n){"use strict";n.r(t);var a=n(9),s=Object(a.a)({},(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h1",{attrs:{id:"frontmatter-title"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#frontmatter-title"}},[e._v("#")]),e._v(" "+e._s(e.$frontmatter.title))]),e._v(" "),n("h2",{attrs:{id:"serverless-functions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#serverless-functions"}},[e._v("#")]),e._v(" Serverless Functions")]),e._v(" "),n("p",[e._v("A serverless function is essentially a piece of business logic (it can be a module) that is going to run in the backend and has these properties:")]),e._v(" "),n("ol",[n("li",[e._v("Is "),n("strong",[e._v("stateless")]),e._v(" (does not maintain data) and")]),e._v(" "),n("li",[e._v("Is "),n("strong",[e._v("ephemeral")]),e._v(" (is used and destroyed), as it potentially only lasts for seconds, and")]),e._v(" "),n("li",[e._v("Is designed to be "),n("strong",[e._v("triggered by an API call")]),e._v(" that happens in the front end. Examples are:\n"),n("ul",[n("li",[e._v("placing an e-commerce order,")]),e._v(" "),n("li",[e._v("uploading a text file and")]),e._v(" "),n("li",[e._v("signing up for a newsletter, etc.")])])])]),e._v(" "),n("p",[e._v("To create a serverless function, a developer has to write the function code and deploy it to an environment like Netlify or Vercel.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("Serverless function workflow")]),e._v(" "),n("p",[e._v("A typical serverless function process would look like this:")]),e._v(" "),n("ol",[n("li",[e._v("The developer:\n"),n("ol",[n("li",[n("strong",[e._v("Writes a function")]),e._v(": writes a function that fulfills a specific purpose in the application code, such as a form mailer.")]),e._v(" "),n("li",[n("strong",[e._v("Defines an event")]),e._v(": defines an event that will trigger the cloud-native service provider to execute the function. An HTTP request is a common example.")])])]),e._v(" "),n("li",[e._v("During running time:\n"),n("ol",[n("li",[n("strong",[e._v("Event Triggers")]),e._v(": An "),n("strong",[e._v("user")]),e._v(" triggers the event with the click of a button or some similar action.")]),e._v(" "),n("li",[n("strong",[e._v("Deploying and execution of the function")]),e._v(": Netlify starts a new instance of the function if one isn’t already running.")]),e._v(" "),n("li",[n("strong",[e._v("Response")]),e._v(": The result is passed to the client")])])])]),e._v(" "),n("p",[n("img",{attrs:{src:"/images/how-do-serverless-functions-work.png",alt:""}})])]),e._v(" "),n("p",[n("strong",[e._v("Serverless functions")]),e._v(" open a world of possibilities for running "),n("strong",[e._v("on-demand")]),e._v(", server-side code without having to run a dedicated server.")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("With Netlify Functions we can")]),e._v(" "),n("ol",[n("li",[e._v("put code into a "),n("code",[e._v("netlify/functions")]),e._v(" folder (i.e "),n("code",[e._v("netlify/functions/hello-world.js")]),e._v(") in our project, and")]),e._v(" "),n("li",[e._v("Netlify will deploy it for us and")]),e._v(" "),n("li",[e._v("give us a URL ("),n("code",[e._v("/.netlify/functions/hello-world")]),e._v(") which will invoke it.")])])]),e._v(" "),n("p",[e._v("Functions deployed from Netlify are "),n("strong",[e._v("immutable")]),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn1",id:"fnref1"}},[e._v("[1]")])]),e._v(". This means that")]),e._v(" "),n("ul",[n("li",[e._v("an update to a function on your production branch won’t change the version that was deployed in a branch deploy, or in a Deploy Preview")])]),e._v(" "),n("p",[e._v("Netlify serverless functions are")]),e._v(" "),n("ol",[n("li",[e._v("version-controlled,")]),e._v(" "),n("li",[e._v("built, and")]),e._v(" "),n("li",[e._v("deployed")])]),e._v(" "),n("p",[e._v("along with the rest of the Netlify site, and Netlify will automatically handles "),n("strong",[e._v("service discovery")]),e._v(" through their built-in "),n("strong",[e._v("API gateway")]),e._v(".")]),e._v(" "),n("p",[e._v("This eliminates overhead and brings the power of Deploy Previews"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn2",id:"fnref2"}},[e._v("[2]")])]),e._v(" and rollbacks"),n("sup",{staticClass:"footnote-ref"},[n("a",{attrs:{href:"#fn1",id:"fnref1:1"}},[e._v("[1:1]")])]),e._v(" to our functions")]),e._v(" "),n("h3",{attrs:{id:"references"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#references"}},[e._v("#")]),e._v(" References")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.splunk.com/en_us/data-insider/what-are-serverless-functions.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("What Are Serverless Functions?"),n("OutboundLink")],1),e._v(" 2021")])]),e._v(" "),n("h2",{attrs:{id:"what-is-an-api-gateway"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#what-is-an-api-gateway"}},[e._v("#")]),e._v(" What is an API Gateway")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("API Gateway")]),e._v(" "),n("p",[e._v("An "),n("strong",[e._v("API gateway")]),e._v(" is an API management tool that sits between")]),e._v(" "),n("ul",[n("li",[e._v("a client and")]),e._v(" "),n("li",[e._v("a collection of backend services.")])]),e._v(" "),n("p",[e._v("An API gateway acts as a reverse proxy to accept all application programming interface (API) calls, aggregate the various services required to fulfill them, and return the appropriate result.")]),e._v(" "),n("p",[n("img",{attrs:{src:"/images/api-gateway.png",alt:""}})])]),e._v(" "),n("h2",{attrs:{id:"what-is-a-service-discovery"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#what-is-a-service-discovery"}},[e._v("#")]),e._v(" What is a Service Discovery")]),e._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[e._v("Service Discovery")]),e._v(" "),n("p",[e._v("Services typically need to call one another.\nIn a traditional distributed system deployment, services run at fixed, well known locations (hosts and ports) and so can easily call one another using HTTP/REST or HTTP/GraphQL or some RPC mechanism "),n("strong",[e._v("but")]),e._v(" on a modern microservice application like the Netlify one, each serverless function  runs in virtualized/containerized environment and so the number of instances of a service and their locations changes dynamically and that is why an additional service discovery must be provided.")]),e._v(" "),n("p",[n("a",{attrs:{href:"https://microservices.io/patterns/client-side-discovery.html",target:"_blank",rel:"noopener noreferrer"}},[n("img",{attrs:{src:"/images/discovery-problem.jpg",alt:""}}),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"watching-the-course-up-and-running-with-serverless-functions-with-ben-hong"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#watching-the-course-up-and-running-with-serverless-functions-with-ben-hong"}},[e._v("#")]),e._v(" Watching the course Up and Running with Serverless Functions with Ben Hong")]),e._v(" "),n("p",[e._v("Here is the course:")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://explorers.netlify.com/learn/up-and-running-with-serverless-functions",target:"_blank",rel:"noopener noreferrer"}},[e._v("Up and Running with Serverless Functions with Ben Hong"),n("OutboundLink")],1)]),e._v(" "),n("li",[e._v("See also repo "),n("a",{attrs:{href:"https://github.com/ULL-MII-SYTWS/netlify-serverless-functions-intro-solution#edit-netlifyfunctionshello-worldjs",target:"_blank",rel:"noopener noreferrer"}},[e._v("ULL-MII-SYTWS/netlify-serverless-functions-intro-solution#edit-netlifyfunctionshello-worldjs"),n("OutboundLink")],1)])]),e._v(" "),n("h2",{attrs:{id:"anya-kubov-tutorial-on-netlify-serverless-functions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#anya-kubov-tutorial-on-netlify-serverless-functions"}},[e._v("#")]),e._v(" Anya Kubov Tutorial on Netlify Serverless Functions")]),e._v(" "),n("p",[e._v("Watch  "),n("em",[e._v("Create your first Netlify Serverless Function!")]),e._v(" by Anya Kubów")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("Create your first Netlify Serverless Function! by Anya Kubów. 2 Mar 2021")]),e._v(" "),n("p",[n("youtube",{attrs:{id:"n_KASTN0gUE"}})],1)])]),e._v(" "),n("p",[e._v("Watch also "),n("em",[e._v("How to use a Serverless Database with Serverless Functions (simple!)")]),e._v(" by Anya Kubów")]),e._v(" "),n("ul",[n("li",[n("p",[e._v("How to use a Serverless Database with Serverless Functions (simple!) by Anya Kubów.  24 Mar 2021")]),e._v(" "),n("p",[n("youtube",{attrs:{id:"4JK1XmqLqnw"}})],1)])]),e._v(" "),n("h2",{attrs:{id:"reading-saving-data-to-supabase-and-getting-it-back-again"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reading-saving-data-to-supabase-and-getting-it-back-again"}},[e._v("#")]),e._v(' Reading "Saving data to Supabase and getting it back again"')]),e._v(" "),n("p",[e._v("Read the article "),n("a",{attrs:{href:"https://www.netlify.com/blog/2021/06/28/saving-data-to-supabase-and-getting-it-back-again/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Saving data to Supabase and getting it back again"),n("OutboundLink")],1),e._v(" by Phil Hawksworth at Netlify Blog June 28, 2021")]),e._v(" "),n("p",[e._v("shows how to use Netlify serverless functions to save content and also to retrieve it using the Supabase database.")]),e._v(" "),n("h2",{attrs:{id:"references-2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#references-2"}},[e._v("#")]),e._v(" References")]),e._v(" "),n("ul",[n("li",[n("a",{attrs:{href:"https://explorers.netlify.com/learn/up-and-running-with-serverless-functions",target:"_blank",rel:"noopener noreferrer"}},[e._v("Up and Running with Serverless Functions with Ben Hong"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://www.splunk.com/en_us/data-insider/what-are-serverless-functions.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("What Are Serverless Functions?"),n("OutboundLink")],1),e._v(" 2021")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://www.netlify.com/blog/2021/06/28/saving-data-to-supabase-and-getting-it-back-again/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Saving data to Supabase and getting it back again"),n("OutboundLink")],1),e._v(" at Netlify Blog June 28, 2021")]),e._v(" "),n("li",[n("a",{attrs:{href:"https://docs.netlify.com/functions/overview/?_ga=2.94572636.1599880915.1669995646-1446704997.1668527962",target:"_blank",rel:"noopener noreferrer"}},[e._v("Netlify Serverless Functions"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://css-tricks.com/lets-build-a-jamstack-e-commerce-store-with-netlify-functions/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Let’s Build a JAMstack E-Commerce Store with Netlify Function"),n("OutboundLink")],1)]),e._v(" "),n("li",[e._v("Ecommerce Example with Netlify Functions, Nuxt, Vue and Stripe\n"),n("ul",[n("li",[n("a",{attrs:{href:"https://css-tricks.com/lets-build-a-jamstack-e-commerce-store-with-netlify-functions/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Let’s Build a JAMstack E-Commerce Store with Netlify Functions"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"https://css-tricks.com/creating-dynamic-routes-in-a-nuxt-application/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Creating Dynamic Routes in Nuxt Application"),n("OutboundLink")],1)]),e._v(" "),n("li",[e._v("Repo example of "),n("a",{attrs:{href:"https://github.com/sdras/ecommerce-netlify",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ecommerce Store with Netlify Functions, Nuxt, Vue and Stripe"),n("OutboundLink")],1)]),e._v(" "),n("li",[n("a",{attrs:{href:"stripe"}},[e._v("Stripe notes")])])])])]),e._v(" "),n("h2",{attrs:{id:"footnotes"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#footnotes"}},[e._v("#")]),e._v(" Footnotes")]),e._v(" "),n("hr",{staticClass:"footnotes-sep"}),e._v(" "),n("section",{staticClass:"footnotes"},[n("ol",{staticClass:"footnotes-list"},[n("li",{staticClass:"footnote-item",attrs:{id:"fn1"}},[n("p",[e._v("In traditional web apps, when we need to "),n("strong",[e._v("rollback")]),e._v(", we simply fetch the .zip artifact file from a previous build, upload and unzip.  There are reasons why we cannot apply this  rollback strategy to Serverless Framework applications. Serverless Framework artifacts are not "),n("strong",[e._v("immutable")]),e._v(". "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1"}},[e._v("↩︎")]),e._v(" "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref1:1"}},[e._v("↩︎")])])]),e._v(" "),n("li",{staticClass:"footnote-item",attrs:{id:"fn2"}},[n("p",[n("strong",[e._v("Deploy previews")]),e._v(" allow you to create a preview of frontend builds before they are merged into a production website. You get some preview URL of a deployment and you can see what changed and make sure it looks great. "),n("a",{staticClass:"footnote-backref",attrs:{href:"#fnref2"}},[e._v("↩︎")])])])])])])}),[],!1,null,null,null);t.default=s.exports}}]);